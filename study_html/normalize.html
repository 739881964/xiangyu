<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>语音归一化</title>
    <script type="text/javascript">
    </script>
    <style type="text/css">
        /* .box{
            width: 1200px;
            height: 800px;
            background-color: cadetblue;
            margin: 0 0 0 10px ;
        } */
        .box1{
            width: 1200px;
            height: 100px;
            background-color:slateblue;
            font-size: 30px;
            color: #000;
            line-height: 100px;
            border: 1px solid #000;
            text-align: center;
        }
        .box2{
            width: 1200px;
            height: 700px;
            /* border-top: 2px solid #000; */
            /* background-color: chocolate; */
            /* display: inline-block; */
        }
        .box2 div{
            width: 500px;
            height: 700px;
            display: inline-block;
        }
        .div1{
            padding: 10px 0 0;
            height: 700px;
            font-size: 15px;
            /* background-color:blanchedalmond; */
        }
        .box2 .div2{
            width: 700px;
            height: 700px;
            position: absolute;
            left: 508px;
            background-color:slategray;
            /* margin: 0 0 0 700px; */
            /* border: 1px solid #000; */
        }
        .div1 label, .div1 input{
            /* background-color:blanchedalmond; */
            color:blue;
            width: 500px;
        }
        .new_input .input1{
            color: cadetblue;
            width: 50px;
        }
        .new_input .input2{
            color: cadetblue;
            width: 80px;
        }
    </style>
</head>
<body>
    <!-- <div class="box"> -->
    <form>
        <div class="box1">语音归一化</div>
        <br />
        <div class="box2">
            <div class='div1'>
                <label>一: 选择wordlist路径: </label>
                <br />
                <input type="file" webkitdirectory directory multiple />
                <br />
                <br />
                <label>二: 选择新生成wordlist路径: </label>
                <input type="file" webkitdirectory directory multiple />
                <br />
                <br />
                <label>三: 选择归一化后语音位置: </label>
                <input type="file" webkitdirectory directory multiple />
                <br />
                <p>__________________________</p>
                <br />
            <div class="new_input">
                <input class="input1" type="button" id='upgrade' value="确认" />
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <input class="input2" type="reset" id='reset' value="全部重置" />
            </div>
            </div>
            <div class="div2"> 
                    import wave
                    import json
                     
                    def Read_WAV(wav_path):
                     """
                     这是读取wav文件的函数，音频数据是单通道的。返回json
                     :param wav_path: WAV文件的地址
                     """
                     wav_file = wave.open(wav_path,'r')
                     numchannel = wav_file.getnchannels()   # 声道数
                     samplewidth = wav_file.getsampwidth()  # 量化位数
                     framerate = wav_file.getframerate()  # 采样频率
                     numframes = wav_file.getnframes()   # 采样点数
                     print("channel", numchannel)
                     print("sample_width", samplewidth)
                     print("framerate", framerate)
                     print("numframes", numframes)
                     Wav_Data = wav_file.readframes(numframes)
                     Wav_Data = np.fromstring(Wav_Data,dtype=np.int16)
                     Wav_Data = Wav_Data*1.0/(max(abs(Wav_Data)))  #对数据进行归一化
                     # 生成音频数据,ndarray不能进行json化，必须转化为list，生成JSON
                     dict = {"channel":numchannel,
                       "samplewidth":samplewidth,
                       "framerate":framerate,
                       "numframes":numframes,
                       "WaveData":list(Wav_Data)}
                     return json.dumps(dict)import wave
                     import json
                      
                     def Read_WAV(wav_path):
                      """
                      这是读取wav文件的函数，音频数据是单通道的。返回json
                      :param wav_path: WAV文件的地址
                      """
                      wav_file = wave.open(wav_path,'r')
                      numchannel = wav_file.getnchannels()   # 声道数
                      samplewidth = wav_file.getsampwidth()  # 量化位数
                      framerate = wav_file.getframerate()  # 采样频率
                      numframes = wav_file.getnframes()   # 采样点数
                      print("channel", numchannel)
                      print("sample_width", samplewidth)
                      print("framerate", framerate)
                      print("numframes", numframes)
                      Wav_Data = wav_file.readframes(numframes)
                      Wav_Data = np.fromstring(Wav_Data,dtype=np.int16)
                      Wav_Data = Wav_Data*1.0/(max(abs(Wav_Data)))  #对数据进行归一化
                      # 生成音频数据,ndarray不能进行json化，必须转化为list，生成JSON
                      dict = {"channel":numchannel,
                        "samplewidth":samplewidth,
                        "framerate":framerate,
                        "numframes":numframes,
                        "WaveData":list(Wav_Data)}
                      return json.dumps(dict)import wave
                      import json
                       
                      def Read_WAV(wav_path):
                       """
                       这是读取wav文件的函数，音频数据是单通道的。返回json
                       :param wav_path: WAV文件的地址
                       """
                       wav_file = wave.open(wav_path,'r')
                       numchannel = wav_file.getnchannels()   # 声道数
                       samplewidth = wav_file.getsampwidth()  # 量化位数
                       framerate = wav_file.getframerate()  # 采样频率
                       numframes = wav_file.getnframes()   # 采样点数
                       print("channel", numchannel)
                       print("sample_width", samplewidth)
                       print("framerate", framerate)
                       print("numframes", numframes)
                       Wav_Data = wav_file.readframes(numframes)
                       Wav_Data = np.fromstring(Wav_Data,dtype=np.int16)
                       Wav_Data = Wav_Data*1.0/(max(abs(Wav_Data)))  #对数据进行归一化
                       # 生成音频数据,ndarray不能进行json化，必须转化为list，生成JSON
                       dict = {"channel":numchannel,
                         "samplewidth":samplewidth,
                         "framerate":framerate,
                         "numframes":numframes,
                         "WaveData":list(Wav_Data)}
                       return json.dumps(dict)import wave
                       import json
                        
                       def Read_WAV(wav_path):
                        """
                        这是读取wav文件的函数，音频数据是单通道的。返回json
                        :param wav_path: WAV文件的地址
                        """
                        wav_file = wave.open(wav_path,'r')
                        numchannel = wav_file.getnchannels()   # 声道数
                        samplewidth = wav_file.getsampwidth()  # 量化位数
                        framerate = wav_file.getframerate()  # 采样频率
                        numframes = wav_file.getnframes()   # 采样点数
                        print("channel", numchannel)
                        print("sample_width", samplewidth)
                        print("framerate", framerate)
                        print("numframes", numframes)
                        Wav_Data = wav_file.readframes(numframes)
                        Wav_Data = np.fromstring(Wav_Data,dtype=np.int16)
                        Wav_Data = Wav_Data*1.0/(max(abs(Wav_Data)))  #对数据进行归一化
                        # 生成音频数据,ndarray不能进行json化，必须转化为list，生成JSON
                        dict = {"channel":numchannel,
                          "samplewidth":samplewidth,
                          "framerate":framerate,
                          "numframes":numframes,
                          "WaveData":list(Wav_Data)}
                        return json.dumps(dict)import wave
                        import json
                         
                        def Read_WAV(wav_path):
                         """
                         这是读取wav文件的函数，音频数据是单通道的。返回json
                         :param wav_path: WAV文件的地址
                         """
                         wav_file = wave.open(wav_path,'r')
                         numchannel = wav_file.getnchannels()   # 声道数
                         samplewidth = wav_file.getsampwidth()  # 量化位数
                         framerate = wav_file.getframerate()  # 采样频率
                         numframes = wav_file.getnframes()   # 采样点数
                         print("channel", numchannel)
                         print("sample_width", samplewidth)
                         print("framerate", framerate)
                         print("numframes", numframes)
                         Wav_Data = wav_file.readframes(numframes)
                         Wav_Data = np.fromstring(Wav_Data,dtype=np.int16)
                         Wav_Data = Wav_Data*1.0/(max(abs(Wav_Data)))  #对数据进行归一化
                         # 生成音频数据,ndarray不能进行json化，必须转化为list，生成JSON
                         dict = {"channel":numchannel,
                           "samplewidth":samplewidth,
                           "framerate":framerate,
                           "numframes":numframes,
                           "WaveData":list(Wav_Data)}
                         return json.dumps(dict)import wave
                         import json
                          
                         def Read_WAV(wav_path):
                          """
                          这是读取wav文件的函数，音频数据是单通道的。返回json
                          :param wav_path: WAV文件的地址
                          """
                          wav_file = wave.open(wav_path,'r')
                          numchannel = wav_file.getnchannels()   # 声道数
                          samplewidth = wav_file.getsampwidth()  # 量化位数
                          framerate = wav_file.getframerate()  # 采样频率
                          numframes = wav_file.getnframes()   # 采样点数
                          print("channel", numchannel)
                          print("sample_width", samplewidth)
                          print("framerate", framerate)
                          print("numframes", numframes)
                          Wav_Data = wav_file.readframes(numframes)
                          Wav_Data = np.fromstring(Wav_Data,dtype=np.int16)
                          Wav_Data = Wav_Data*1.0/(max(abs(Wav_Data)))  #对数据进行归一化
                          # 生成音频数据,ndarray不能进行json化，必须转化为list，生成JSON
                          dict = {"channel":numchannel,
                            "samplewidth":samplewidth,
                            "framerate":framerate,
                            "numframes":numframes,
                            "WaveData":list(Wav_Data)}
                          return json.dumps(dict)import wave
                          import json
                           
                          def Read_WAV(wav_path):
                           """
                           这是读取wav文件的函数，音频数据是单通道的。返回json
                           :param wav_path: WAV文件的地址
                           """
                           wav_file = wave.open(wav_path,'r')
                           numchannel = wav_file.getnchannels()   # 声道数
                           samplewidth = wav_file.getsampwidth()  # 量化位数
                           framerate = wav_file.getframerate()  # 采样频率
                           numframes = wav_file.getnframes()   # 采样点数
                           print("channel", numchannel)
                           print("sample_width", samplewidth)
                           print("framerate", framerate)
                           print("numframes", numframes)
                           Wav_Data = wav_file.readframes(numframes)
                           Wav_Data = np.fromstring(Wav_Data,dtype=np.int16)
                           Wav_Data = Wav_Data*1.0/(max(abs(Wav_Data)))  #对数据进行归一化
                           # 生成音频数据,ndarray不能进行json化，必须转化为list，生成JSON
                           dict = {"channel":numchannel,
                             "samplewidth":samplewidth,
                             "framerate":framerate,
                             "numframes":numframes,
                             "WaveData":list(Wav_Data)}
                           return json.dumps(dict)import wave
                           import json
                            
                           def Read_WAV(wav_path):
                            """
                            这是读取wav文件的函数，音频数据是单通道的。返回json
                            :param wav_path: WAV文件的地址
                            """
                            wav_file = wave.open(wav_path,'r')
                            numchannel = wav_file.getnchannels()   # 声道数
                            samplewidth = wav_file.getsampwidth()  # 量化位数
                            framerate = wav_file.getframerate()  # 采样频率
                            numframes = wav_file.getnframes()   # 采样点数
                            print("channel", numchannel)
                            print("sample_width", samplewidth)
                            print("framerate", framerate)
                            print("numframes", numframes)
                            Wav_Data = wav_file.readframes(numframes)
                            Wav_Data = np.fromstring(Wav_Data,dtype=np.int16)
                            Wav_Data = Wav_Data*1.0/(max(abs(Wav_Data)))  #对数据进行归一化
                            # 生成音频数据,ndarray不能进行json化，必须转化为list，生成JSON
                            dict = {"channel":numchannel,
                              "samplewidth":samplewidth,
                              "framerate":framerate,
                              "numframes":numframes,
                              "WaveData":list(Wav_Data)}
                            return json.dumps(dict)
            </div>
        </div>
        </form>
    <!-- </div> -->
</body>
</html>